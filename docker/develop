FROM python:3.10-slim-bullseye

RUN mkdir /app
COPY /molmod/requirements.txt /app

RUN mkdir -p /uploads
RUN chown www-data:www-data /uploads

WORKDIR /app

RUN pip3 install -r requirements.txt

RUN apt-get update
RUN apt-get -y install rsync # Used in backup script

ENV FLASK_ENV="development"
CMD ["python3", "wsgi.py"]
